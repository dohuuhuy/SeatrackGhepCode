
@{
    ViewBag.Title = "ThongTinTaiKhoan";
    Layout = "~/Views/Shared/_LayoutHome.cshtml";
}


    <div id="content-taikhoan" class="main contaner-fuild" ng-app="AccountApp" ng-controller="AccountControllers">
        <div class="wrapper">
            <div id="sidebar5" class="si-sidebar s-sidebar">
                <div class="sidebar-header s-flexible s-just-center">
                    <img src="/Content/public/img/logo-vinasia.png" class="s-logo-dom">
                </div>
                <hr>

            </div>
            <div id="content-taikhoan-body" class="content">
                <div class="container-fluid" ng-app="" ng-controller="">
                    <h1 class="mt-4">Thông Tin Tài Khoản</h1>
                    <ol class="breadcrumb mb-4">
                        <li class="breadcrumb-item"><a href="index.html">Quản trị</a></li>
                        <li class="breadcrumb-item active">Tài khoản</li>
                    </ol>
                    <div class="card mb-4">
                        <div class="card-header">
                            <strong class="card-title">Vùng Tìm Kiếm</strong>
                        </div>
                        <div class="card-body">
                            <div class="col col-md-12">
                                <div class="input-group">
                                    <input type="text" id="input1-group2" name="input1-group2" placeholder="Nhập từ khóa ..." class="form-control" ng-model="SearchKey"><br />
                                    <div class="input-group-btn">
                                        <button class="btn btn-primary" ng-click="ClearSearch()">
                                            <i class="fa fa-search"></i> Search
                                        </button>
                                    </div>
                                </div>
                                <br />

                            </div>
                        </div>
                    </div>
                    <div class="card mb-4">
                        <div class="card-header"><i class="fas fa-table mr-1"></i>Kết Quả Tìm Kiếm</div>
                        <div class="card-body">
                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#ThemThietBi">
                                <i class="fa fa-plus"></i> Thêm mới
                            </button>
                            <label>Tổng: {{namesData.length}}</label>
                            <div class="table-responsive">
                                <table id="dataTable" class="table table-bordered table-striped text-center">
                                    <thead>
                                        <tr>
                                            <th width="5%">#</th>
                                            <th>Thao tác</th>
                                            <th>Tài khoản</th>
                                            <th>Họ và tên</th>
                                            <th>Số điện thoại</th>
                                            <th>Trạng thái</th>
                                        </tr>




                                    </thead>
                                    <tbody>
                                        <tr dir-paginate="a in namesData | filter:SearchKey | itemsPerPage: 7" current-page="currentPage">
                                            <td>{{$index+1}}</td>
                                            <td>
                                                <a ng-click="View(namesData[$index])" ng-model="$scope.Account" data-toggle="modal" data-target="#XemThietBi">
                                                    <i class="fa fa-eye" style="color:black"></i>
                                                </a>
                                                <a ng-click="Edit(namesData[$index])" data-toggle="modal" data-target="#SuaThietBi"><i class="fa fa-edit">edit</i></a>
                                                <a ng-click="Delete($index)" ng-if="a.StatusDevice == 1"><i class="fa fa-lock"></i></a>
                                                @*<a ng-click="Unlock($index)" ng-if="a.StatusDevice == -1"><i class="fa fa-unlock"></i></a>*@
                                            </td>
                                            <td>{{a.Username}}</td>
                                            <td>{{a.Fullname}}</td>
                                            <td>{{a.Phone}}</td>
                                            <td>{{a.Status}}</td>


                                            @*<td ng-if="a. == 1"><p style="color:forestgreen">Kích hoạt</p></td>
                                            <td ng-if="a. == -1"><p style="color:red">Tạm khóa</p></td>
                                            <td ng-if="a. == 0"><p style="color:red">Hết hạn</p></td>*@

                                        </tr>
                                    </tbody>
                                </table>

                                @* phân trang controll *@
                                <div class="other-controller" style="border:1px solid #ccf; padding:5px; margin:3px">
                                    <div class="text-center">
                                        <dir-pagination-controls boundary-links="true"></dir-pagination-controls>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    @*<div class="modal fade" id="XemThietBi" tabindex="-1" role="dialog" aria-labelledby="scrollmodalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg" role="document">
                            <div class="modal-content" ng-show="Device.DeviceID != '' ">
                                <div class="modal-header">
                                    <h3 class="text-info">Xem Chi Tiết Thiết Bị</h3>
                                    <button type="button" class="close" data-dismiss="modal" style="text-align:left" ng-click="Clear()">x</button>
                                </div>
                                <div class="modal-body" style="margin-left:20px">
                                    <form class="form-horizontal row" name="XemThietBi">
                                        <div class="col col-md-6">
                                            <div class="form-group">
                                                <label class="control-label"> Số hiệu </label>
                                                <input class="form-control" name="DeviceNo" ng-model="Device.DeviceNo" type="text" disabled maxlength="50" />
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label"> Tên thiết bị </label>
                                                <input class="form-control" name="DeviceName" ng-model="Device.DeviceName" type="text" disabled maxlength="30" />
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label"> Phiên bản </label>
                                                <input class="form-control" name="DeviceVersion" ng-model="Device.DeviceVersion" type="text" disabled maxlength="50" />
                                            </div>
                                        </div>
                                        <div class="col col-md-6">
                                            <div class="form-group">
                                                <label class="control-label"> Imei </label>
                                                <input class="form-control" name="DeviceImei" ng-model="Device.DeviceImei" type="text" disabled maxlength="10" />
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label"> Ngày hết hạn </label>
                                                <input class="form-control" name="DateExpired" ng-model="Device.DateExpired" type="text" disabled maxlength="200" />
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label"> Ghi chú </label>
                                                <textarea class="form-control" name="DeviceNote" ng-model="Device.DeviceNote" type="text" disabled rows="3"></textarea>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="Clear()">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal fade" id="ThemThietBi" tabindex="-1" role="dialog" aria-labelledby="scrollmodalLabel" aria-hidden="true" data-keyboard="false" data-backdrop="static">
                        <div class="modal-dialog modal-lg" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h3 class="text-info">Thêm thiết bị</h3>
                                    <button type="button" class="close" data-dismiss="modal" style="text-align:left" ng-click="Clear()">x</button>
                                </div>
                                <div class="modal-body" style="margin-left:20px">
                                    <form class="form-horizontal row" name="AddNewForm">
                                        <div class="col col-md-6">
                                            <div class="form-group">
                                                <label class="control-label"> Số hiệu </label>
                                                <input class="form-control" name="DeviceNo" ng-model="Device.DeviceNo" type="text" placeholder="Số hiệu ..." required maxlength="50" ng-blur="NoDeviceExist(Device.DeviceNo)" />
                                                <label ng-if="NoCheck == Device.DeviceNo" style="color:red">Số hiệu đã tồn tại</label>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label"> Tên thiết bị </label>
                                                <input class="form-control" name="DeviceName" ng-model="Device.DeviceName" type="text" placeholder="Tên thiết bị ..." required maxlength="30" />
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label"> Phiên bản </label>
                                                <input class="form-control" name="DeviceVersion" ng-model="Device.DeviceVersion" type="text" placeholder="Phiên bản ..." required maxlength="50" />
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label"> Nhóm thiết bị </label>
                                                <input class="form-control" name="DeviceVersion" ng-model="Device.DeviceGroup" type="text" placeholder="Nhóm ..." required maxlength="50" />
                                            </div>
                                        </div>
                                        <div class="col col-md-6">
                                            <div class="form-group">
                                                <label class="control-label"> Imei </label>
                                                <input class="form-control" name="DeviceImei" ng-model="Device.DeviceImei" type="text" placeholder="Imei ..." required maxlength="10" ng-blur="ImeiDeviceExist(Device.DeviceImei)" />
                                                <label ng-if="ImeiCheck == Device.DeviceImei" style="color:red">Imei đã tồn tại</label>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label"> Ngày hết hạn </label>
                                                <input class="form-control" name="DateExpired" ng-model="Device.DateExpired" type="date" placeholder="Ngày hết hạn ..." required id="datefield" />
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label"> Ghi chú </label>
                                                <textarea class="form-control" name="DeviceNote" ng-model="Device.DeviceNote" type="text" placeholder="Ghi chú ..." required rows="3"></textarea>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-primary" id="btnSave" data-dismiss="modal" ng-disabled="AddNewForm.$invalid || NoCheck == Device.DeviceNo || ImeiCheck == Device.DeviceImei" ng-click="Save()">Save</button>
                                    <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="Clear()">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal fade" id="SuaThietBi" tabindex="-1" role="dialog" aria-labelledby="scrollmodalLabel" aria-hidden="true" data-keyboard="false" data-backdrop="static">
                        <div class="modal-dialog modal-lg" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h3 class="text-info">Cập Nhật Thiết Bị</h3>
                                    <button type="button" class="close" data-dismiss="modal" style="text-align:left" ng-click="Clear()">x</button>
                                </div>
                                <div class="modal-body" style="margin-left:20px">
                                    <form class="form-horizontal row" name="UpdateForm">
                                        <div class="col col-md-6">
                                            <div class="form-group">
                                                <label class="control-label"> Số hiệu </label>
                                                <input class="form-control" name="DeviceNo" ng-model="Device.DeviceNo" type="text" required maxlength="50" ng-blur="NoDeviceExist(Device.DeviceNo)" />
                                                <label ng-if="NoCheck == Device.DeviceNo" style="color:red">Số hiệu đã tồn tại</label>

                                            </div>
                                            <div class="form-group">
                                                <label class="control-label"> Tên thiết bị </label>
                                                <input class="form-control" name="DeviceName" ng-model="Device.DeviceName" type="text" required maxlength="30" />
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label"> Phiên bản </label>
                                                <input class="form-control" name="DeviceVersion" ng-model="Device.DeviceVersion" type="text" required maxlength="50" />
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label"> Ghi chú </label>
                                                <textarea class="form-control" name="DeviceNote" ng-model="Device.DeviceNote" type="text" required rows="3"></textarea>
                                            </div>

                                        </div>
                                        <div class="col colp-md-6">
                                            <div class="form-group">
                                                <label class="control-label"> Imei </label>
                                                <input class="form-control" name="DeviceImei" ng-model="Device.DeviceImei" type="text" placeholder="Imei ..." required ng-blur="ImeiDeviceExist(Device.DeviceImei)" />
                                                <label ng-if="ImeiCheck == Device.DeviceImei" style="color:red">Imei đã tồn tại</label>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label"> Nhóm thiết bị </label>
                                                <input class="form-control" name="DeviceGroup" ng-model="Device.DeviceGroup" type="text" placeholder="Nhóm ..." required />
                                            </div>

                                            <div class="form-group">
                                                <label class="control-label"> Ngày hết hạn </label>
                                                <input class="form-control" id="datefield1" name="DateExpired" ng-model="Device.ExpireDate" type="date" data-date-format="dd-MM-yyyy HH:mm:ss" />
                                                <span ng-if="UpdateForm.DateExpired.$invalid">Error</span>
                                                <br />
                                                <div class="row text-center">
                                                    <div class="form-group col-md-6">
                                                        <button class="btn btn-primary" ng-click="DeviceExtension(Device.ExpireDate,1)">Gia hạn 1 tháng</button>
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <button class="btn btn-primary" ng-click="DeviceExtension(Device.ExpireDate,3)">Gia hạn 3 tháng</button>
                                                    </div>
                                                    <div class="form-group col-md-6 offset-md-3">
                                                        <button class="btn btn-primary" ng-click="DeviceExtension(Device.ExpireDate,6)">Gia hạn 6 tháng</button>
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                <button class="btn btn-primary" ng-click="DeviceExtension(Device.ExpireDate,12)">Gia hạn 12 tháng</button>
                                            </div>

                                                </div>

                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-primary" id="btnSave" data-dismiss="modal" ng-disabled="AddNewForm.$invalid || NoCheck == Device.DeviceNo || ImeiCheck == Device.DeviceImei" ng-click="update()">Update</button>
                                    <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="Clear()">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>*@

                </div>
            </div>
        </div>
        <script src="~/Scripts/angular.js"></script>
        <script src="~/Content/public/js/main/Account.js"></script>
    </div>
